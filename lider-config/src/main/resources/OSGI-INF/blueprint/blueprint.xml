<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
	xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
                 http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
                 http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 http://svn.apache.org/repos/asf/aries/trunk/blueprint/blueprint-cm/src/main/resources/org/apache/aries/blueprint/compendium/cm/blueprint-cm-1.1.0.xsd
         ">

	<cm:property-placeholder persistent-id="tr.org.liderahenk"
		update-strategy="reload">
	</cm:property-placeholder>

	<bean id="configurationService" class="tr.org.liderahenk.config.ConfigurationServiceImpl">
		<property name="dbServer" value="${db.server}" />
		<property name="dbPort" value="${db.port}" />
		<property name="dbDatabase" value="${db.database}" />
		<property name="dbUsername" value="${db.username}" />
		<property name="dbPassword" value="${db.password}" />

		<property name="ldapServer" value="${ldap.server}" />
		<property name="ldapPort" value="${ldap.port}" />
		<property name="ldapUsername" value="${ldap.username}" />
		<property name="ldapPassword" value="${ldap.password}" />
		<property name="ldapRootDn" value="${ldap.root.dn}" />
		<property name="ldapUseSsl" value="${ldap.use.ssl}" />

		<property name="xmppHost" value="${xmpp.host}" />
		<property name="xmppPort" value="${xmpp.port}" />
		<property name="xmppUsername" value="${xmpp.username}" />
		<property name="xmppPassword" value="${xmpp.password}" />
		<property name="xmppServiceName" value="${xmpp.service.name}" />
		<property name="xmppMaxRetryConnectionCount" value="${xmpp.max.retry.connection.count}" />
		<property name="xmppPacketReplayTimeout" value="${xmpp.packet.replay.timeout}" />
		<property name="xmppPingTimeout" value="${xmpp.ping.timeout}" />
		<property name="xmppUseSsl" value="${xmpp.use.ssl}" />

		<property name="agentLdapBaseDn" value="${agent.ldap.base.dn}" />
		<property name="agentLdapIdAttribute" value="${agent.ldap.id.attribute}" />
		<property name="agentLdapJidAttribute" value="${agent.ldap.jid.attribute}" />
		<property name="agentLdapObjectClasses" value="${agent.ldap.object.classes}" />

		<property name="authLdapUserSearchBase" value="${auth.ldap.user.search.base}" />
		<property name="authLdapUserObjectClasses" value="${auth.ldap.user.object.classes}" />
		<property name="authLdapUserAttribute" value="${auth.ldap.user.attribute}" />
		<property name="authorizationEnabled" value="${auth.authorization.enabled}" />

		<property name="taskManagerTaskTimeout" value="${taskmanager.task.timeout}" />
		<property name="taskManagerMulticastEnabled" value="${taskmanager.multicast.enabled}" />
		<property name="taskManagerLogXmppMessagesEnabled" value="${taskmanager.log.xmpp.messages.enabled}" />
	</bean>

	<service ref="configurationService"
		interface="tr.org.liderahenk.lider.core.api.IConfigurationService" />

</blueprint>