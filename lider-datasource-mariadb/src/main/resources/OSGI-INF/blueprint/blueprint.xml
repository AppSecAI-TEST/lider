<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
         xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="
                 http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
                 http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 http://svn.apache.org/repos/asf/aries/trunk/blueprint/blueprint-cm/src/main/resources/org/apache/aries/blueprint/compendium/cm/blueprint-cm-1.1.0.xsd
         ">
	
	<cm:property-placeholder persistent-id="tr.org.liderahenk"
        update-strategy="reload">
        
    </cm:property-placeholder>
  
  <service 
      ref="mariadbConnectionPoolDataSource"
      interface="javax.sql.DataSource">
      <service-properties>
      <entry key="osgi.jndi.service.name" value="jdbc/lider"/>
      <entry key="datasource.name" value="MySQL" />
      </service-properties>
  </service>
  
  <service 
      ref="mariadbXADataSource"
      interface="javax.sql.XADataSource">
      <service-properties>
        <entry 
          key="osgi.jndi.service.name"
          value="jdbc/xalider"/>
        <entry key="datasource.name" value="MySQL"/>
      </service-properties>
  </service>
  
   
  <bean
    id="mariadbXADataSource"
    class="com.mysql.jdbc.jdbc2.optional.MysqlXADataSource">    
    <property name="databaseName" value="${db.database}"/>    
    <property name="url" value="jdbc:mysql://${db.server}:3306/${db.database}?characterEncoding=UTF-8"/>
    <property name="user" value="${db.username}"/>
    <property name="password" value="${db.password}"/>
  </bean>
  
  <bean
    id="mariadbConnectionPoolDataSource"
    class="com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource">    
    <property name="databaseName" value="${db.database}"/>    
    <property name="url" value="jdbc:mysql://${db.server}:3306/${db.database}?characterEncoding=UTF-8"/>    
    <property name="user" value="${db.username}"/>
    <property name="password" value="${db.password}"/>
  </bean>
  
  <reference id="transactionManager" interface="javax.transaction.TransactionManager"/>
    
  
</blueprint>